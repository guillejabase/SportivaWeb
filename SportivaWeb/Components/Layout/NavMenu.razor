@inject ISesionService sesionService
@using SportivaWeb.Models
@using SportivaWeb.Services
@rendermode InteractiveServer

<div class="navmenu">
    <input type="checkbox"
           id="navmenu-toggle"
           class="navmenu-icon" />

    <label for="navmenu-toggle"
           class="navmenu-icon">
        <FluentIcon Value="@(new Icons.Regular.Size20.Navigation())"
                    Color="Color.Fill" />
    </label>

    <nav class="sitenav"
         aria-labelledby="main-menu">
        <FluentNavMenu Id="main-menu"
                       Collapsible="true"
                       Width="250"
                       Title="Navigation menu"
                       CustomToggle="true"
                       @bind-Expanded="expanded">
            @if (sesionService.Usuario?.Rol == 2 || sesionService.Usuario?.Rol == 1)
            {
                <FluentNavLink Href="/menu/eventos"
                               Match="NavLinkMatch.All"
                               Icon="new Icons.Regular.Size24.BoxMultiple()"
                               IconColor="Color.Accent"
                               Tooltip="Eventos">
                    Eventos
                </FluentNavLink>
            }
            @if (sesionService.Usuario?.Rol == 1)
            {
                <FluentNavLink Href="/menu/usuarios"
                               Match="NavLinkMatch.All"
                               Icon="new Icons.Regular.Size24.People()"
                               IconColor="Color.Accent"
                               Tooltip="Usuarios">
                    Usuarios
                </FluentNavLink>
                <FluentNavGroup Title="Reportes"
                                Icon="new Icons.Regular.Size24.DocumentFolder()"
                                IconColor="Color.Accent"
                                Tooltip="Reportes">
                    <FluentNavLink Href="/menu/reportes/eventos"
                                   Match="NavLinkMatch.All"
                                   Icon="new Icons.Regular.Size24.BoxMultiple()"
                                   IconColor="Color.Accent"
                                   Tooltip="Eventos">
                        Eventos
                    </FluentNavLink>
                    <FluentNavLink Href="/menu/reportes/inscripciones"
                                   Match="NavLinkMatch.All"
                                   Icon="new Icons.Regular.Size24.ClipboardTextLtr()"
                                   IconColor="Color.Accent"
                                   Tooltip="Inscripciones">
                        Inscripciones
                    </FluentNavLink>
                    <FluentNavLink Href="/menu/reportes/usuarios"
                                   Match="NavLinkMatch.All"
                                   Icon="new Icons.Regular.Size24.People()"
                                   IconColor="Color.Accent"
                                   Tooltip="Usuarios">
                        Usuarios
                    </FluentNavLink>
                </FluentNavGroup>
            }
        </FluentNavMenu>
    </nav>
</div>

@code {
    private bool expanded = true;
}
